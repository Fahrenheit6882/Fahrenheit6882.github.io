"use strict";(self.webpackChunkfahrenheit_docusaurus=self.webpackChunkfahrenheit_docusaurus||[]).push([[5691],{9656:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>h,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"marketing/website/website-deploy","title":"Deploying (Publishing) Changes","description":"When you\'re happy with the changes, you will need to push the changes up to github.","source":"@site/docs/marketing/website/website-deploy.md","sourceDirName":"marketing/website","slug":"/marketing/website/website-deploy","permalink":"/site/docs/marketing/website/website-deploy","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_label":"How to deploy","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"How to make changes","permalink":"/site/docs/marketing/website/website-edit"},"next":{"title":"Web Technologies","permalink":"/site/docs/marketing/website/website-technology"}}');var t=n(4848),r=n(8453);const o={sidebar_label:"How to deploy",sidebar_position:4},h="Deploying (Publishing) Changes",a={},c=[];function l(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"deploying-publishing-changes",children:"Deploying (Publishing) Changes"})}),"\n",(0,t.jsx)(s.p,{children:"When you're happy with the changes, you will need to push the changes up to github."}),"\n",(0,t.jsx)(s.admonition,{type:"note",children:(0,t.jsxs)(s.p,{children:["When you use ",(0,t.jsx)(s.code,{children:"git"})," to upload changed files, the command that is run is called ",(0,t.jsx)(s.code,{children:"git push"}),". So, that's why it's called  ",(0,t.jsx)(s.code,{children:"pushing"})," code for a release."]})}),"\n",(0,t.jsx)(s.p,{children:"There are 2 parts to our site:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://github.com/Fahrenheit6882/Fahrenheit6882.github.io/blob/docusaurus/index.html",children:"index.html"})," is a basic html page that defines the landing page for ",(0,t.jsx)(s.a,{href:"https://fahrenheitrobotics.org/",children:"https://fahrenheitrobotics.org/"})]}),"\n",(0,t.jsxs)(s.li,{children:["The ",(0,t.jsx)(s.a,{href:"https://github.com/Fahrenheit6882/Fahrenheit6882.github.io/tree/docusaurus/site",children:"site"})," directory contains a ",(0,t.jsx)(s.a,{href:"https://docusaurus.io/",children:"docusaurus"})," site which contains our team guides."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"There are a few steps to deploy changes to the live site:"}),"\n",(0,t.jsx)(s.admonition,{type:"note",children:(0,t.jsx)(s.p,{children:"This is a bit complicated so I wrote some scripts to automate it."})}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Run ",(0,t.jsx)(s.code,{children:"yarn build"})," to create a ",(0,t.jsx)(s.code,{children:"build"})," directory containing docusaurus site files"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["Take a look at ",(0,t.jsx)(s.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(8768).A+"",children:"deploy0.sh"}),". This contains the commands to build the docusaurus files into static html/css/javascript."]}),"\n",(0,t.jsxs)(s.ol,{start:"2",children:["\n",(0,t.jsxs)(s.li,{children:["Make a copy of the ",(0,t.jsx)(s.code,{children:"build"})," directory, as well as the ",(0,t.jsx)(s.code,{children:"index.html"})," and ",(0,t.jsx)(s.code,{children:"app.css"})," files."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["Take a look at ",(0,t.jsx)(s.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(3927).A+"",children:"deploy1.sh"}),". This contains the commands to make a copy of the static files."]}),"\n",(0,t.jsxs)(s.ol,{start:"3",children:["\n",(0,t.jsxs)(s.li,{children:["Switch to the ",(0,t.jsx)(s.code,{children:"main"})," branch"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"git checkout main\n"})}),"\n",(0,t.jsxs)(s.ol,{start:"4",children:["\n",(0,t.jsxs)(s.li,{children:["Replace everything in the ",(0,t.jsx)(s.code,{children:"site"})," directory of the main branch with contents of the copy of the ",(0,t.jsx)(s.code,{children:"build"})," directory"]}),"\n",(0,t.jsxs)(s.li,{children:["Replace ",(0,t.jsx)(s.code,{children:"index.html"})," and ",(0,t.jsx)(s.code,{children:"app.css"})," files"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:'export TEMP_SITE="../temp-site"\r\nrm -rf site/\r\nmv $TEMP_SITE/site site\r\nrm -rf img/\r\nmv $TEMP_SITE/img img\r\nmv $TEMP_SITE/index.html index.html\r\nmv $TEMP_SITE/app.css app.css\r\nmv $TEMP_SITE/README.md README.md\r\nmv $TEMP_SITE/CHANGELOG.md CHANGELOG.md\n'})}),"\n",(0,t.jsxs)(s.ol,{start:"6",children:["\n",(0,t.jsx)(s.li,{children:"Push to github"}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"git push origin main\n"})}),"\n",(0,t.jsxs)(s.ol,{start:"7",children:["\n",(0,t.jsx)(s.li,{children:"Create a git tag for the release."}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"git push origin <NEW_TAG>\n"})}),"\n",(0,t.jsx)(s.p,{children:'Whenever new or changed files are pushed to github, then the "Live" site available here will show the changes:'}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"https://fahrenheitrobotics.org",children:"https://fahrenheitrobotics.org"})})]})}function d(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8768:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/files/deploy0-9c2053b86e402bb1aeffe1bbad990288.sh"},3927:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/files/deploy1-4254c2eff1124b28a7eb5baa3e70b79e.sh"},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>h});var i=n(6540);const t={},r=i.createContext(t);function o(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function h(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);