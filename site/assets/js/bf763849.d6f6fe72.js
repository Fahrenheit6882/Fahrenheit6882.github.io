"use strict";(self.webpackChunkfahrenheit_docusaurus=self.webpackChunkfahrenheit_docusaurus||[]).push([[7056],{9740:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>h,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"website/website-deploy","title":"Deploying (Publishing) Changes","description":"When you\'re happy with the changes, you will need to push the changes up to github.","source":"@site/docs/website/website-deploy.md","sourceDirName":"website","slug":"/website/website-deploy","permalink":"/site/docs/website/website-deploy","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_label":"How to deploy","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"How to make changes","permalink":"/site/docs/website/website-edit"},"next":{"title":"Web Technologies","permalink":"/site/docs/website/website-technology"}}');var t=s(4848),r=s(8453);const h={sidebar_label:"How to deploy",sidebar_position:4},o="Deploying (Publishing) Changes",c={},l=[];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"deploying-publishing-changes",children:"Deploying (Publishing) Changes"})}),"\n",(0,t.jsx)(n.p,{children:"When you're happy with the changes, you will need to push the changes up to github."}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["When you use ",(0,t.jsx)(n.code,{children:"git"})," to upload changed files, the command that is run is called ",(0,t.jsx)(n.code,{children:"git push"}),". So, that's why it's called  ",(0,t.jsx)(n.code,{children:"pushing"})," code for a release."]})}),"\n",(0,t.jsx)(n.p,{children:"There are 2 parts to our site:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/Fahrenheit6882/Fahrenheit6882.github.io/blob/docusaurus/index.html",children:"index.html"})," is a basic html page that defines the landing page for ",(0,t.jsx)(n.a,{href:"https://fahrenheitrobotics.org/",children:"https://fahrenheitrobotics.org/"})]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.a,{href:"https://github.com/Fahrenheit6882/Fahrenheit6882.github.io/tree/docusaurus/site",children:"site"})," directory contains a ",(0,t.jsx)(n.a,{href:"https://docusaurus.io/",children:"docusaurus"})," site which contains our team guides."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"There are a few steps to deploy changes to the live site:"}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"This is a bit complicated. It would be great for someone to write a script to automate these steps ;-)"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Run ",(0,t.jsx)(n.code,{children:"yarn build"})," to create a ",(0,t.jsx)(n.code,{children:"build"})," directory containing docusaurus site files"]}),"\n",(0,t.jsxs)(n.li,{children:["Make a copy of the ",(0,t.jsx)(n.code,{children:"build"})," directory, as well as the ",(0,t.jsx)(n.code,{children:"index.html"})," and ",(0,t.jsx)(n.code,{children:"app.css"})," files."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Here's a script (that's very much a WIP!)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:'export TEMP_SITE="../temp-site"\r\nrm -rf $TEMP_SITE\r\nmkdir -p $TEMP_SITE\r\ncp -R site/build/ $TEMP_SITE/site\r\ncp -R ./img/ $TEMP_SITE/img\r\ncp ./index.html $TEMP_SITE/index.html\r\ncp ./app.css $TEMP_SITE/app.css\r\ncp README.md $TEMP_SITE/README.md\r\ncp CHANGELOG.md $TEMP_SITE/CHANGELOG.md\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:["Switch to the ",(0,t.jsx)(n.code,{children:"main"})," branch"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"git checkout main\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsxs)(n.li,{children:["Replace everything in the ",(0,t.jsx)(n.code,{children:"site"})," directory of the main branch with contents of the copy of the ",(0,t.jsx)(n.code,{children:"build"})," directory"]}),"\n",(0,t.jsxs)(n.li,{children:["Replace ",(0,t.jsx)(n.code,{children:"index.html"})," and ",(0,t.jsx)(n.code,{children:"app.css"})," files"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:'export TEMP_SITE="../temp-site"\r\nrm -rf site/\r\nmv $TEMP_SITE/site site\r\nrm -rf img/\r\nmv $TEMP_SITE/img img\r\nmv $TEMP_SITE/index.html index.html\r\nmv $TEMP_SITE/app.css app.css\r\nmv $TEMP_SITE/README.md README.md\r\nmv $TEMP_SITE/CHANGELOG.md CHANGELOG.md\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsx)(n.li,{children:"Push to github"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"git push origin main\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"7",children:["\n",(0,t.jsx)(n.li,{children:"Create a git tag for the release."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"git push origin <NEW_TAG>\n"})}),"\n",(0,t.jsx)(n.p,{children:'Whenever new or changed files are pushed to github, then the "Live" site available here will show the changes:'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://fahrenheitrobotics.org",children:"https://fahrenheitrobotics.org"})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>h,x:()=>o});var i=s(6540);const t={},r=i.createContext(t);function h(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:h(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);