"use strict";(self.webpackChunkfahrenheit_docusaurus=self.webpackChunkfahrenheit_docusaurus||[]).push([[56],{9740:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>h,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"website/website-deploy","title":"Deploying (Publishing) Changes","description":"Start a Development Server to test local changes","source":"@site/docs/website/website-deploy.md","sourceDirName":"website","slug":"/website/website-deploy","permalink":"/site/docs/website/website-deploy","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_label":"How to deploy","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"How to make changes","permalink":"/site/docs/website/website-edit"},"next":{"title":"Project Management Tools","permalink":"/site/docs/category/project-management-tools"}}');var o=s(4848),i=s(8453);const r={sidebar_label:"How to deploy",sidebar_position:5},l="Deploying (Publishing) Changes",h={},a=[{value:"Start a Development Server to test local changes",id:"start-a-development-server-to-test-local-changes",level:2},{value:"Deploy Changes",id:"deploy-changes",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"deploying-publishing-changes",children:"Deploying (Publishing) Changes"})}),"\n",(0,o.jsx)(t.h2,{id:"start-a-development-server-to-test-local-changes",children:"Start a Development Server to test local changes"}),"\n",(0,o.jsx)(t.p,{children:"After you edit the files in VS Code installed on your computer, you can run a server that will serve the site locally on your computer. This is great for testing and to make sure the changes look good before publishing them out to the live site."}),"\n",(0,o.jsx)(t.admonition,{type:"note",children:(0,o.jsxs)(t.p,{children:["TODO: describe how to install ",(0,o.jsx)(t.code,{children:"nvm"})," and how to use ",(0,o.jsx)(t.code,{children:"nvm"})," to install Node.js and ",(0,o.jsx)(t.code,{children:"npm"}),". Then show how to use ",(0,o.jsx)(t.code,{children:"npm"})," to install ",(0,o.jsx)(t.code,{children:"yarn"}),"."]})}),"\n",(0,o.jsx)(t.admonition,{type:"note",children:(0,o.jsxs)(t.p,{children:["Node.js 23.x didn't work for me, I run into a known issue of ",(0,o.jsx)(t.a,{href:"https://github.com/facebook/docusaurus/issues/10684",children:"Unexpected end of JSON input"}),". ",(0,o.jsx)(t.code,{children:"npm use 22.3"})," works for me."]})}),"\n",(0,o.jsxs)(t.p,{children:["In order to build the website you'll need a tool called ",(0,o.jsx)(t.code,{children:"yarn"}),". To install yarn, follow the guide ",(0,o.jsx)(t.a,{href:"https://yarnpkg.com/getting-started",children:"here"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["Once you have ",(0,o.jsx)(t.code,{children:"yarn"})," installed, use the following commands to build and start a server that will serve the site on your computer:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-shell",children:"cd site\r\nyarn\r\nyarn start\n"})}),"\n",(0,o.jsxs)(t.p,{children:["If all goes well, a browser window should open to show the site. You can also open a browser and go to ",(0,o.jsx)(t.a,{href:"http://localhost:3000/site/docs/welcome",children:"http://localhost:3000/site/docs/welcome"}),"."]}),"\n",(0,o.jsx)(t.h2,{id:"deploy-changes",children:"Deploy Changes"}),"\n",(0,o.jsx)(t.p,{children:"When you're happy with the changes, you will need to push the changes up to github."}),"\n",(0,o.jsx)(t.admonition,{type:"note",children:(0,o.jsxs)(t.p,{children:["When you use ",(0,o.jsx)(t.code,{children:"git"})," to upload changed files, the command that is run is called ",(0,o.jsx)(t.code,{children:"git push"}),". So, that's why it's called  ",(0,o.jsx)(t.code,{children:"pushing"})," code for a release."]})}),"\n",(0,o.jsx)(t.p,{children:"There are 2 parts to our site:"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.a,{href:"https://github.com/Fahrenheit6882/Fahrenheit6882.github.io/blob/docusaurus/index.html",children:"index.html"})," is a basic html page that defines the landing page for ",(0,o.jsx)(t.a,{href:"https://fahrenheitrobotics.org/",children:"https://fahrenheitrobotics.org/"})]}),"\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.a,{href:"https://github.com/Fahrenheit6882/Fahrenheit6882.github.io/tree/docusaurus/site",children:"site"})," directory contains a ",(0,o.jsx)(t.a,{href:"https://docusaurus.io/",children:"docusaurus"})," site which contains our team guides."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"There are a few steps to deploy changes to the live site:"}),"\n",(0,o.jsx)(t.admonition,{type:"note",children:(0,o.jsx)(t.p,{children:"This is a bit complicated. It would be great for someone to write a script to automate these steps ;-)"})}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["Run ",(0,o.jsx)(t.code,{children:"yarn build"})," to create a ",(0,o.jsx)(t.code,{children:"build"})," directory containing docusaurus site files"]}),"\n",(0,o.jsxs)(t.li,{children:["Make a copy of the ",(0,o.jsx)(t.code,{children:"build"})," directory, as well as the ",(0,o.jsx)(t.code,{children:"index.html"})," and ",(0,o.jsx)(t.code,{children:"app.css"})," files."]}),"\n",(0,o.jsxs)(t.li,{children:["Switch to the ",(0,o.jsx)(t.code,{children:"main"})," branch"]}),"\n",(0,o.jsxs)(t.li,{children:["Replace everything in the ",(0,o.jsx)(t.code,{children:"site"})," directory of the main branch with contents of the copy of the ",(0,o.jsx)(t.code,{children:"build"})," directory"]}),"\n",(0,o.jsxs)(t.li,{children:["Replace ",(0,o.jsx)(t.code,{children:"index.html"})," and ",(0,o.jsx)(t.code,{children:"app.css"})," files"]}),"\n",(0,o.jsx)(t.li,{children:"Push to github"}),"\n",(0,o.jsx)(t.li,{children:"Create a git tag for the release."}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:'Whenever new or changed files are pushed to github, then the "Live" site available here will show the changes:'}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://fahrenheitrobotics.org",children:"https://fahrenheitrobotics.org"})})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>l});var n=s(6540);const o={},i=n.createContext(o);function r(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);